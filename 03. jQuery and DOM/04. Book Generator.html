<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Book Generator</title>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"
            integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="
            crossorigin="anonymous"></script>
</head>
<body>
<div id="wrapper">

</div>
<script>
    window.onload = function () {
        createBook("#wrapper", "Alice in Wonderland", "Lewis Carroll", 1111);
    };

//    createBook = (function () {
//        let id = 1;
//        return function bookCreator(selector, title, author, isbn) {
//            let container = $(selector);
//            let bookFragment = document.createDocumentFragment();
//            let bookId = $(`<div id="book${id}" style="border: medium none;">`);
//            let bookTitle = $(`<p class="title"></p>`);
//            let bookAuthor = $(`<p class="author"></p>`);
//            let bookIsbn = $(`<p class="ISBN"></p>`);
//            let selectBtn = $('<button>Select</button>');
//            let deselectBtn = $('<button>Deselect</button>');
//
//            selectBtn.on('click', function () {
//                bookId.css('border','2px solid blue');
//            });
//            deselectBtn.on('click', function () {
//                bookId.css('border','medium none');
//            });
//
//            //Book info inserter
//            bookTitle.text(title);
//            bookAuthor.text(author);
//            bookIsbn.text(isbn);
//
//
//            bookTitle.appendTo(bookId);
//            bookAuthor.appendTo(bookId);
//            bookIsbn.appendTo(bookId);
//            selectBtn.appendTo(bookId);
//            deselectBtn.appendTo(bookId);
//
//
//            bookId.appendTo(bookFragment);
//            container.append(bookFragment);
//            id++;
//        }
//    });
    createBook = (function(){
        let id = 0;
        return function bookCreator(selector, title, author, isbn) {
            id++;
            let book = $('<div>');
            let titleofBook = $('<p>');
            let authorofBook = $('<p>');
            let isbnofBook = $('<p>');
            let select = $('<button>Select</button>');
            let deselect = $('<button>Deselect</button>');
            book.attr('id', 'book' + id);
            titleofBook.attr('class', 'title').text(title);
            authorofBook.attr('class', 'author').text(author);
            isbnofBook.attr('class', 'isbn').text(isbn);
            $(selector)
                    .append(book
                            .append(titleofBook)
                            .append(authorofBook)
                            .append(isbnofBook)
                            .append(select)
                            .append(deselect));
            $(select).click(function () {
                book.attr('style', 'border: 2px solid blue');
            });
            $(deselect).click(function () {
                book.removeAttr('style');
            });
        };}());
</script>
</body>
</html>
